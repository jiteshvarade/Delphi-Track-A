# ADR-001: Choosing Vite + React + Tailwind CSS

**Status**: Accepted  
**Date**: 2025-10-31  
**Authors**: Development Team  
**Decision Makers**: Technical Lead

---

## Context

We needed to select a modern frontend stack for building Delphi Reader, a content-focused web application with the following requirements:

1. **Fast development iteration** with hot module replacement
2. **Modern React** features (hooks, context, concurrent rendering)
3. **Rapid UI prototyping** without writing custom CSS
4. **TypeScript support** for type safety
5. **Excellent DX** (developer experience) with minimal configuration
6. **Production-ready builds** with optimized bundling
7. **Easy testing setup** for unit and E2E tests

---

## Decision

We will use:
- **Vite** as the build tool and dev server
- **React 19** as the UI framework
- **Tailwind CSS** with Typography plugin for styling
- **TypeScript** for type safety
- **Vitest** for unit testing (integrates seamlessly with Vite)
- **Playwright** for end-to-end testing

---

## Rationale

### Why Vite?

**Pros**:
- âš¡ **Instant dev server startup** using native ES modules (no bundling in dev)
- ğŸ”¥ **Sub-50ms HMR** (Hot Module Replacement) for React components
- ğŸ“¦ **Optimized production builds** with Rollup under the hood
- ğŸ› ï¸ **Zero config** for React + TypeScript projects
- ğŸ§ª **Native Vitest integration** sharing the same Vite config
- ğŸŒ **Modern browser targets** (no legacy IE support needed)

**Alternatives Considered**:
- **Create React App (CRA)**: Deprecated, slow build times, Webpack complexity
- **Next.js**: Overkill for a single-page reader app, no SSR/SSG requirements
- **Parcel**: Less ecosystem support, smaller community

**Conclusion**: Vite's speed and simplicity make it ideal for iterative UI development.

---

### Why React 19?

**Pros**:
- ğŸ¯ **Component-based architecture** fits our UI requirements (Header, Sidebar, Popup)
- ğŸª **Hooks API** perfect for state management and side effects (useHeadings, useArticles)
- âš›ï¸ **Mature ecosystem** with libraries for routing, floating UI, testing
- ğŸ”„ **Concurrent rendering** for smooth animations and transitions
- ğŸ“š **Extensive documentation** and community support

**Alternatives Considered**:
- **Vue 3**: Less familiar to team, smaller ecosystem for floating UI
- **Svelte**: Compiled framework, limited TypeScript tooling
- **Vanilla JS**: Too much boilerplate for state management and routing

**Conclusion**: React's maturity, hooks API, and ecosystem make it the safest choice for rapid development.

---

### Why Tailwind CSS?

**Pros**:
- ğŸš€ **Rapid prototyping** with utility-first classes (no CSS files to maintain)
- ğŸ¨ **Consistent design system** out of the box (spacing, colors, typography)
- ğŸ“± **Responsive by default** with mobile-first breakpoints
- ğŸŒ™ **Built-in dark mode** with `dark:` variant classes
- ğŸ“– **Typography plugin** for beautiful prose styling (`prose` classes)
- ğŸ”§ **Customizable** via tailwind.config.ts
- ğŸ“¦ **PurgeCSS integration** removes unused styles in production

**Alternatives Considered**:
- **CSS Modules**: More boilerplate, harder to maintain design consistency
- **Styled Components**: Runtime overhead, harder to purge unused styles
- **Bootstrap**: Too opinionated, heavy bundle size, outdated design patterns

**Conclusion**: Tailwind's utility-first approach accelerates UI development and ensures design consistency without custom CSS.

---

### Why TypeScript?

**Pros**:
- ğŸ›¡ï¸ **Type safety** catches bugs at compile time
- ğŸ§  **Better IDE support** with autocomplete and inline docs
- ğŸ“ **Clear interfaces** for props, hooks, and context
- ğŸ”„ **Easier refactoring** with confidence
- ğŸ“š **Self-documenting code** with explicit types

**Alternatives Considered**:
- **JavaScript + JSDoc**: Less strict, harder to enforce across team
- **Flow**: Smaller ecosystem, less community support

**Conclusion**: TypeScript is industry-standard for React projects and prevents entire classes of runtime errors.

---

## Consequences

### Positive

âœ… **Fast feedback loop**: Changes reflect instantly in the browser  
âœ… **Minimal configuration**: Vite scaffolding works out of the box  
âœ… **Productive styling**: Tailwind classes speed up UI iteration  
âœ… **Type-safe codebase**: Fewer runtime bugs, easier maintenance  
âœ… **Great DX**: Hot reload, fast builds, excellent error messages  
âœ… **Scalable architecture**: Component-based design supports future features

### Negative

âš ï¸ **Learning curve**: Team needs to learn Tailwind utility classes  
âš ï¸ **HTML verbosity**: Long className strings can be hard to read  
âš ï¸ **Build tool lock-in**: Migrating away from Vite would require significant effort  
âš ï¸ **TypeScript overhead**: Initial setup and type definitions take time

### Mitigations

- ğŸ“– Provide Tailwind cheat sheet and IntelliSense plugin
- ğŸ§¹ Use `clsx` or `classnames` library for conditional class composition
- ğŸ“ Document Vite-specific configurations for future developers
- ğŸ¤ Encourage pair programming to spread TypeScript knowledge

---

## Alternatives Not Chosen

| Stack                     | Reason for Rejection                                      |
|---------------------------|----------------------------------------------------------|
| Next.js + Tailwind        | No need for SSR/SSG, simpler SPA architecture preferred  |
| Angular + Material UI     | Too heavy, opinionated, slower iteration cycle           |
| Svelte + SvelteKit        | Smaller ecosystem, less mature TypeScript support        |
| Vue 3 + Vuetify           | Team more familiar with React, fewer UI library options  |
| CRA + Styled Components   | CRA deprecated, runtime CSS overhead with Styled Comp    |

---

## Implementation Notes

1. Use `pnpm create vite@latest` for project scaffolding
2. Install Tailwind via `pnpm add -D tailwindcss postcss autoprefixer`
3. Add `@tailwindcss/typography` plugin for article styling
4. Configure `tailwind.config.ts` with custom theme (fonts, colors)
5. Use `vitest.config.ts` for unit test configuration
6. Use `playwright.config.ts` for E2E test configuration

---

## Related ADRs

- [ADR-002: State Management for Logging](./ADR-002.md)

---

## References

- [Vite Documentation](https://vite.dev/)
- [React Documentation](https://react.dev/)
- [Tailwind CSS Documentation](https://tailwindcss.com/)
- [TypeScript Documentation](https://www.typescriptlang.org/)
- [Vitest Documentation](https://vitest.dev/)
- [Playwright Documentation](https://playwright.dev/)
